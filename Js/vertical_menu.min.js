(function(e){e.fn.vertical_menu=function(){return this.each(function(){function n(e){e.parent().find("ul").addClass("active");e.parent().find("ul").slideDown("slow")}var t=e(this);t.find("ul li > a").bind("click",function(r){var i=e(r.currentTarget);if(i.parent().find("ul.active").size()===1){i.parent().parent().parent().find("ul.active").slideUp("medium",function(){i.parent().find("ul.active").removeClass("active")})}else if(t.find("ul li ul.active").size()===0){n(i)}else{t.find("ul li ul.active").slideUp("slow",function(){t.find("ul li ul").removeClass("active");n(i)})}})})}})(jQuery)